<div class="min-h-screen bg-gray-50">
  <!-- Tab Navigation -->
  <div class="bg-white border-b sticky top-0 z-20">
    <div class="flex">
      <button 
        [class.border-b-2]="activeTab === 'for-you'"
        [class.border-blue-500]="activeTab === 'for-you'"
        [class.text-blue-500]="activeTab === 'for-you'"
        class="flex-1 py-4 text-center font-bold hover:bg-gray-50 transition-colors"
        (click)="setActiveTab('for-you')"
      >
        For You
      </button>
      <button 
        [class.border-b-2]="activeTab === 'human-drawing'"
        [class.border-blue-500]="activeTab === 'human-drawing'"
        [class.text-blue-500]="activeTab === 'human-drawing'"
        class="flex-1 py-4 text-center font-bold hover:bg-gray-50 transition-colors"
        (click)="setActiveTab('human-drawing')"
      >
        Human Art
      </button>
    </div>
  </div>
  
  
  <!-- Inline Create Post Box (For You tab only) -->
  <div *ngIf="activeTab === 'for-you'" class="bg-white border-b">
    <div class="max-w-[598px] mx-auto">
      <app-post-input-box
        [userAvatar]="(authService.currentUser$ | async)?.profile_picture || ''"
        [defaultAvatar]="defaultAvatar"
        [showCard]="false"
        (submit)="onPostSubmit($event)"
        (imageSelected)="onImageSelected($event)">
      </app-post-input-box>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="max-w-[598px] mx-auto">
    <div class="bg-red-50 text-red-500 p-4 rounded-lg text-center my-3">
      {{ error }}
    </div>
  </div>

  <!-- No Posts State -->
  <div *ngIf="!isInitialLoading && (!posts || posts.length === 0)" class="text-center py-8 text-gray-500">
    No posts to show
  </div>

  <!-- Posts List -->
  <div class="posts-container">
    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <div *ngIf="posts.length === 0 && !isInitialLoading" class="no-posts-message">
      No posts to show.
    </div>

    <!-- Initial loading state -->
    <div *ngIf="isInitialLoading" class="loading-indicator">
      <mat-spinner [diameter]="40" [strokeWidth]="3"></mat-spinner>
    </div>

    <ng-container *ngFor="let post of posts">
      <app-human-art-post *ngIf="post.is_human_drawing" [post]="post"></app-human-art-post>
      <app-post *ngIf="!post.is_human_drawing" [post]="post"></app-post>
    </ng-container>

    <!-- Loading more posts indicator -->
    <div *ngIf="isLoadingMore" class="loading-more-indicator">
      <mat-spinner [diameter]="30" [strokeWidth]="3"></mat-spinner>
    </div>
  </div>
</div>

<style>
.loading-indicator {
  display: flex;
  justify-content: center;
  padding: 40px 0;
}

.loading-more-indicator {
  display: flex;
  justify-content: center;
  padding: 20px 0;
  margin-top: 10px;
}

.error-message {
  color: #dc3545;
  text-align: center;
  padding: 20px;
}

.no-posts-message {
  text-align: center;
  padding: 20px;
  color: #6c757d;
}
</style> 