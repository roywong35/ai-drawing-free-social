<div class="dialog-content">
    <!-- Close Button -->
    <button class="close-btn" (click)="dialogRef.close()">
      <i class="fas fa-times"></i>
    </button>
  
    <!-- Original Post -->
    <div class="post-section">
      <div class="avatar-container">
        <img [src]="data.post.author.profile_picture || defaultAvatar" 
             alt="Author avatar" 
             class="avatar">
        <div class="connecting-line"></div>
      </div>
      <div class="flex-1">
        <div class="flex items-center gap-1">
          <span class="font-bold">{{ data.post.author.username }}</span>
          <span class="text-gray-500">{{'@'}}{{ data.post.author.handle || data.post.author.username }}</span>
          <span class="text-gray-500">Â·</span>
          <span class="text-gray-500">{{ data.post.created_at | timeAgo }}</span>
        </div>
        <p class="post-content">{{ data.post.content }}</p>
      </div>
    </div>
  
    <!-- Reply Section -->
    <div class="reply-section">
      <div class="replying-to">
        Replying to <span class="text-blue-500">{{'@'}}{{ data.post.author.handle || data.post.author.username }}</span>
      </div>
    </div>
    <div class="reply-input-container">
        <div class="reply-input-wrapper flex items-start">
          <img [src]="data.currentUser?.profile_picture || defaultAvatar" 
               alt="Your avatar" 
               class="avatar replier-avatar">
          <textarea
            [(ngModel)]="replyContent"
            class="reply-input min-h-[5rem]"
            placeholder="Post your reply"
            [rows]="3"
            (input)="adjustTextarea($event)">
          </textarea>
        </div>
  
        <div class="reply-actions">
          <div class="media-actions">
            <button class="action-btn" (click)="onImageClick()">
              <i class="far fa-image"></i>
            </button>
            <button class="action-btn" (click)="toggleEmojiPicker($event)">
              <i class="far fa-smile"></i>
            </button>
          </div>
          <button 
            class="reply-btn" 
            [disabled]="!replyContent.trim()"
            (click)="onSubmit()">
            Reply
          </button>
        </div>
      </div>
  </div>
  
  <!-- Emoji Picker -->
  <div class="emoji-picker-overlay" *ngIf="showEmojiPicker">
    <div class="emoji-picker-backdrop" (click)="showEmojiPicker = false"></div>
    <div class="emoji-picker-container"
         [style.top.px]="emojiPickerPosition.top"
         [style.left.px]="emojiPickerPosition.left">
      <emoji-mart [darkMode]="false"
                 [enableSearch]="false"
                 [showPreview]="false"
                 [style]="{ border: 'none', boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }"
                 (emojiSelect)="addEmoji($event)">
      </emoji-mart>
    </div>
  </div> 