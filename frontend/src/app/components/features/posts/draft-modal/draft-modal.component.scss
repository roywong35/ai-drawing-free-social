// Draft modal styles - Clean approach
// Target the global class that gets added by MatDialog

::ng-deep .draft-modal-dialog {
  // Target the Material Dialog container
  .mat-mdc-dialog-container {
    opacity: 0;
    animation: containerFadeIn 100ms ease-out forwards;
    
    // Mobile: full screen container positioning
    @media (max-width: 686px) {
      width: 100vw !important;
      max-width: 100vw !important;
      height: 100vh !important;
      max-height: 100vh !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      margin: 0 !important;
      padding: 0 !important;
      transform: none !important;
      position: fixed !important;
    }
    
    .mdc-dialog__surface {
      background: white;
      border-radius: 18px !important;
      overflow: hidden;
      
      @media (max-width: 686px) {
        width: 100vw !important;
        max-width: 100vw !important;
        height: 100vh !important;
        max-height: 100vh !important;
        border-radius: 0 !important;
      }
      
      @media (min-width: 687px) {
        width: 600px !important;
        max-width: 600px !important;
        height: auto !important;
        border-radius: 18px !important;
      }
    }
  }
  
  // Overlay positioning for mobile
  .cdk-overlay-pane {
    background: transparent !important;
    padding: 0 !important;
    
    // Mobile: fixed positioning with full coverage
    @media (max-width: 686px) {
      width: 100vw !important;
      max-width: 100vw !important;
      height: 100vh !important;
      max-height: 100vh !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      position: fixed !important;
      transform: none !important;
      margin: 0 !important;
      display: flex !important;
      align-items: flex-start !important;
      justify-content: flex-start !important;
    }
  }
}

// Clean Draft Modal - Bypass all problematic global rules
::ng-deep .clean-draft-modal {
  .mat-mdc-dialog-container {
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 12px !important;
    padding: 0 !important;
    overflow: hidden !important;
    
    @media (max-width: 687px) {
      width: 100vw !important;
      height: 100vh !important;
      max-width: 100vw !important;
      max-height: 100vh !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      margin: 0 !important;
      padding: 0 !important;
      transform: none !important;
      position: fixed !important;
      border-radius: 0 !important;
    }
  }

  .mdc-dialog__surface {
    width: 600px !important;
    height: 600px !important;
    max-width: 90vw !important;
    max-height: 90vh !important;
    border-radius: 12px !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: hidden !important;
    background: white !important;
    
    @media (max-width: 687px) {
      width: 100vw !important;
      height: 100vh !important;
      max-width: 100vw !important;
      max-height: 100vh !important;
      border-radius: 0 !important;
    }
  }

  /* Ensure backdrop doesn't create layering effect */
  .cdk-overlay-backdrop {
    background: rgba(0, 0, 0, 0.32) !important;
  }
}

/* Override global overlay styles for clean draft modal */
::ng-deep .clean-draft-modal .cdk-overlay-pane {
  width: auto !important;
  max-width: none !important;
  margin: 0 !important;
  padding: 0 !important;
  position: relative !important;
  background: transparent !important;
  overflow: visible !important;
  
  @media (max-width: 687px) {
    width: 100vw !important;
    max-width: 100vw !important;
    height: 100vh !important;
    max-height: 100vh !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    position: fixed !important;
    transform: none !important;
    margin: 0 !important;
    display: flex !important;
    align-items: flex-start !important;
    justify-content: flex-start !important;
  }
}

// Force the modal to stay within dialog bounds
:host {
  display: flex;
  flex-direction: column;
  height: 600px; // Fixed 600px height to match container
  width: 600px; // Fixed 600px width to match container
  overflow: hidden;
}

// Main container must be constrained
.main-container {
  display: flex;
  flex-direction: column;
  height: 600px; // Fixed 600px height to match container
  width: 600px; // Fixed 600px width to match container
  overflow: hidden;
  box-sizing: border-box; // Include padding/borders in size calculation
}

// Content area must be constrained to scroll within available space
.content-area {
  flex: 1;
  overflow-y: auto;
  min-height: 0; // Allow shrinking
  max-height: 100%; // Don't exceed container
}

// Mobile responsive styles
@media (max-width: 687px) {
  :host {
    width: 100vw !important;
    height: 100vh !important;
  }

  .main-container {
    width: 100vw !important;
    height: 100vh !important;
    padding: 0 !important;
    border-radius: 0 !important;
  }
}

// Header and footer never shrink
.header-section,
.tabs-section {
  flex-shrink: 0;
}

// Footer always at bottom
.footer-controls {
  flex-shrink: 0; // Never shrink
  z-index: 10; // Ensure it stays on top
  max-width: 100%; // Prevent horizontal overflow
  box-sizing: border-box; // Include padding in width calculation
}

.active {
  background-color: #eff6ff;
  border-bottom: 2px solid #3b82f6;
  color: #3b82f6;
} 